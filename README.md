# TrainService

Сервис для решения задачи о циклическом поезде. Для запуска сервиса требуется postgreSQL.
Для создания БД для программы введите следующие команды при помощь psql (консоль/терминал):

**CREATE database server;**<br />
**CREATE role program WITH password 'test';** <br />
**GRANT ALL PRIVILEGES ON database server TO program;** <br />
**ALTER role program WITH login;**<br />

В сервисе реализовано 2 метода: 

**(POST)  /train/(целое число)** <br />
Данный метод создает в циклический поезд и случайным образом задает состояние света в каждом из вагонов. В результате верного выполнения программы пользователь получит id своего созданного поезда.

**(GET)  /answer/(полученный id)** <br /> 
Данный метод находит в БД созданный пользователем поезд и возвращает количество вагонов в поезде. Подсчет вагонов осуществляется при помощи обхода поезда и включения/выключения света в каждом из вагонов по определенному алгоритму, реализованному в классе Counter.

**Тестовые запросы** <br />

________________________________________________________________________________________________________________________

Запрос: http://localhost:8089/train/25

Ответ: 

{
    "success": true,<br />
    "message": "Correct input",<br />
    "id": 19<br />
}

Был создан поезд в размере 25 вагонов. Случайным образом включен и выключен свет в каждом вагоне и помещен в БД. 

"success": true                     (запрос был успешно выполнен)<br />
"message": "Correct input"          (сообщение о том, что ввод верный)<br />
"id": 19                            (ID созданного поезда : 19)<br />

________________________________________________________________________________________________________________________
Запрос: http://localhost:8089/train/word

Ответ: 

{
    "success": false,<br />
    "message": "Incorrect input",<br />
    "id": null<br />
}

Данный запрос не был успешно выполнен введу неверного запроса (слово, вместо количества вагонов).

"success": false                     (запрос не был успешно выполнен)<br />
"message": "Incorrect input"         (сообщение о том, что ввод неверный)<br />
"id": null                           (Введу того, что запрос не был успешно выполнен нельзя вернуть ID созданного поезда)<br />

________________________________________________________________________________________________________________________
Запрос:  http://localhost:8089/answer/19

Ответ: 

{
    "success": true,<br />
    "message": "Correct input",<br />
    "answer": 25<br />
}

Был произведен подсчет вагонов у поезда, имевшего идентификационный номер 19.

"success": true,                    (запрос был успешно выполнен)<br />
"message": "Correct input",         (сообщение о том, что ввод верный)<br />
"answer": 25                        (результат подсчета вагонов в поезде с ID: 19 составляет 25 вагонов)<br />

________________________________________________________________________________________________________________________
Запрос:  http://localhost:8089/answer/100

Ответ: 

{
    "success": false,<br />
    "message": "Incorrect input",<br />
    "answer": null<br />
}

Неккорректный запрос. (Поезда с таким ID не найдено). В ответе нет результата вычисления.

"success": false,                   (запрос не был успешно выполнен)<br />
"message": "Incorrect input",       (сообщение о том, что ввод неверный)<br />
"answer": null                      (нет результата подсчета)<br />
________________________________________________________________________________________________________________________
Запрос: http://localhost:8089/answer/word

Ответ: 

{
    "success": false,<br />
    "message": "Incorrect input",<br />
    "answer": null<br />
}

Данный запрос не был успешно выполнен введу неверного запроса (слово, вместо ID).

"success": false,                   (запрос не был успешно выполнен)<br />
"message": "Incorrect input",       (сообщение о том, что ввод неверный)<br />
"answer": null                      (нет результата подсчета)<br />

В ответе в качестве результата подсчета был возвращен null, так как ID имел неверный формат.

________________________________________________________________________________________________________________________
